<div class="stats-header">
  <div class="stat-card">
      <div class="stat-title">Producto más vendido (histórico)</div>
      <div class="stat-value">{{ topProductName }}</div>
      <div class="stat-extra">
        <span class="stat-up">▲</span>
      <div class="stat-info">
        Vendidas: <b>{{ topProductQty | number }}</b> piezas
      </div>
    </div>
  </div>
  <div class="stat-card">
    <div class="stat-title">Total Ventas este mes</div>
    <div class="stat-value">{{ totalSalesMonth | currency:'MXN':'symbol-narrow':'1.2-2' }}</div>
    <div class="stat-extra">
      <span class="stat-up">▲</span>
      <div class="stat-info">Acumulado del mes</div>
    </div>
  </div>
  <div class="stat-card">
    <div class="stat-title">Total Orders (mes)</div>
    <div class="stat-value">{{ totalOrders | number }}</div>
    <div class="stat-extra">
      <span class="stat-down">▼</span>
      <div class="stat-info">Tickets generados en el mes</div>
    </div>
  </div>
  <div class="stat-card">
    <div class="stat-title">Total Sales (hoy)</div>
    <div class="stat-value">{{ totalSalesToday | currency:'MXN':'symbol-narrow':'1.2-2' }}</div>
    <div class="stat-extra">
      <span class="stat-down">▼</span>
      <div class="stat-info">Ventas del día</div>
    </div>
  </div>
</div>

<div class="dashboard-charts">
  <div class="area-chart">
    <div class="chart-title-row">
      <span>Ventas diarias</span>
      <div class="chart-toggle">
        <button
          class="tab"
          [class.active]="viewMode === 'month'"
          (click)="setViewMode('month')">
          Month
        </button>
        <button
          class="tab"
          [class.active]="viewMode === 'week'"
          (click)="setViewMode('week')">
          Week
        </button>
      </div>
    </div>
    <apx-chart
      [series]="areaChartSeries"
      [chart]="areaChartOptions['chart']"
      [xaxis]="areaChartOptions['xaxis']"
      [yaxis]="areaChartOptions['yaxis']"
      [stroke]="areaChartOptions['stroke']"
      [dataLabels]="areaChartOptions['dataLabels']"
      [fill]="areaChartOptions['fill']"
      [grid]="areaChartOptions['grid']"
      height="270"
    ></apx-chart>
  </div>
  <div class="bar-chart">
    <div class="chart-title-row">
      <span>Profit Overview</span>
    </div>
    <div class="income-stat">
      <div>Utilidad de esta semana</div>
      <div class="income-value">
        {{ profitTotalWeek | currency:'MXN':'symbol-narrow':'1.2-2' }}
      </div>
    </div>
    <apx-chart
      [series]="profitChartSeries"
      [chart]="profitChartOptions['chart']"
      [xaxis]="profitChartOptions['xaxis']"
      [yaxis]="profitChartOptions['yaxis']"
      [plotOptions]="profitChartOptions['plotOptions']"
      [dataLabels]="profitChartOptions['dataLabels']"
      [colors]="profitChartOptions['colors']"
      [grid]="profitChartOptions['grid']"
      height="270"
    ></apx-chart>
  </div>
</div>

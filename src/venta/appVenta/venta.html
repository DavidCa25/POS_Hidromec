<div class="container">
  <div class="card shadow-lg border-0 mt-4">
    <div class="card-body">
      <h2 class="text-center mb-5">Punto de Venta</h2>
      <form>
        <!-- Folio y fecha -->
        <div class="row g-4 mb-4">
          <div class="col-md-6">
            <label class="form-label">Folio</label>
            <input type="text" class="form-control" placeholder="Folio de la venta" />
          </div>
          <div class="col-md-6">
            <label class="form-label">Fecha</label>
            <div class="form-control-plaintext fw-bold">
              {{ today | date: 'longDate' : undefined : 'es-MX' }}
            </div>
          </div>
        </div>
        <!-- Productos -->
        <div class="mb-4">
          <label class="form-label mb-2">Productos</label>
          <div class="table-responsive">
            <table class="table align-middle shadow-sm mb-2">
              <thead>
                <tr>
                  <th>Producto</th>
                  <th style="width:120px;">Cantidad</th>
                  <th style="width:180px;">Precio Unitario</th>
                  <th style="width:130px;">Subtotal</th>
                  <th style="width:60px;"></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <select class="form-select">
                      <option>Producto 1</option>
                      <option>Producto 2</option>
                    </select>
                  </td>
                  <td><input type="number" class="form-control" value="1" min="1" /></td>
                  <td><input type="number" class="form-control" value="0.00" min="0" step="0.01" /></td>
                  <td class="fw-semibold">$0.00</td>
                  <td>
                    <button type="button" class="btn btn-sm btn-danger rounded-circle">
                      <i class="bi bi-trash"></i>
                    </button>
                  </td>
                </tr>
                <!-- Aquí tus filas dinámicas -->
              </tbody>
            </table>
          </div>
          <button type="button" class="btn btn-outline-primary btn-sm mt-2">
            <i class="bi bi-plus-lg"></i> Agregar producto
          </button>
        </div>
        <!-- Total y acciones -->
        <div class="d-flex flex-wrap justify-content-end align-items-center gap-4 mt-5">
          <div id="total-venta" class="mb-0 me-4">
            {{ totalVenta | currency:'MXN':'symbol-narrow':'1.2-2' }}
          </div>
          <button type="button" class="btn btn-success d-flex align-items-center gap-2" (click)="abrirModalCobrar()">
            <i class="bi bi-cash-stack"></i> Cobrar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- MODAL COBRAR -->
<div class="modal fade show d-block" *ngIf="showModal" style="background:rgba(0,0,0,0.13);z-index:10000;">
  <div class="modal-dialog modal-dialog-centered" style="max-width:410px">
    <div class="modal-content rounded-4">
      <div class="modal-header border-0 pb-1">
        <button type="button" class="btn-close" (click)="cerrarModalCobrar()"></button>
      </div>
      <div class="modal-body px-4 pt-0 pb-4">
        <h3 class="fw-bold mb-4 text-center" style="font-size:2rem;">Cobro</h3>
        <div class="mb-3">
          <label class="form-label">Total a pagar:</label>
          <div class="form-control-plaintext fs-2 fw-bold">
            {{ totalVenta | currency:'MXN':'symbol-narrow':'1.2-2' }}
          </div>
        </div>
        <div class="mb-3">
          <label class="form-label">Dinero recibido</label>
          <input type="number" min="0" step="0.01" class="form-control form-control-lg"
            [(ngModel)]="dineroRecibido"
            name="dineroRecibido"
            placeholder="¿Cuánto recibió del cliente?" />
        </div>
        <div>
          <label class="form-label">Cambio a regresar:</label>
          <div class="form-control-plaintext fs-2 fw-bold" style="color:#10b981;">
            {{ cambio | currency:'MXN':'symbol-narrow':'1.2-2' }}
          </div>
        </div>
        <div class="d-flex justify-content-end mt-4">
          <button type="button" class="btn btn-primary px-4" (click)="cerrarModalCobrar()">Aceptar</button>
        </div>
      </div>
    </div>
  </div>
</div>
